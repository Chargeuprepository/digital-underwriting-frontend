import{j as a,p,av as ie,ai as se,aw as X,ax as ae,R as le,r as _,ay as ce,_ as de,S as fe}from"./index-UFlMoqOZ.js";import{b as ue}from"./index-DxRO_h9g.js";import{e as pe,S as he}from"./index-1cUHPk2d.js";import{d as me}from"./index-CyIjKEXH.js";import{G as J}from"./iconBase-CFzihDm8.js";import{a as ge}from"./index-CkKNDW-3.js";import{b as ve}from"./index-CGwYIXXS.js";import{_ as L}from"./react-apexcharts.min-BogNqB8n.js";import{B as ye}from"./BarRenderContent-NmY6jVmv.js";import{b as xe}from"./breakCamelCase-BfS5I_ZA.js";import{u as be}from"./queryManager-NPWUTG1d.js";import{u as Se}from"./useMoveBack-D1BYG4LY.js";import"./index-BKNjMPK8.js";import"./useLazyQuery-B69fhfCn.js";function ze(r){return J({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M98.398 21.146a17.092 17.092 0 0 0-4.636.521c-20.49 5.262-33.163 20.63-36.116 38.649-2.952 18.019 2.168 38.346 12.676 58.193 20.695 39.086 63.262 77.08 117.852 85.85-5.61-6.72-11.05-14.246-16.274-22.375-39.008-12.57-70.021-42.344-85.67-71.899-9.206-17.387-12.846-34.491-10.82-46.857C77.437 50.862 83.482 42.89 98.238 39.1c.065-.017.068-.034.092-.053-.065-.143.105-.08 0 0 .022.049.061.11.176.217.527.493 1.689 2.24 2.207 5.14 1.036 5.804-.413 15.593-8.135 25.68l14.293 10.942c10.418-13.61 13.65-28.086 11.56-39.785-1.044-5.85-3.396-11.165-7.628-15.124-3.174-2.969-7.747-4.868-12.405-4.972zm315.204 0c-4.658.104-9.23 2.003-12.405 4.972-4.232 3.96-6.584 9.274-7.629 15.124-2.089 11.699 1.143 26.174 11.56 39.785l14.294-10.942c-7.722-10.087-9.171-19.876-8.135-25.68.518-2.9 1.68-4.647 2.207-5.14a.695.695 0 0 0 .176-.217c-.105-.08.065-.143 0 0 .024.019.027.036.092.053 14.756 3.79 20.801 11.76 22.828 24.127 2.026 12.366-1.614 29.47-10.82 46.857-15.649 29.555-46.662 59.33-85.67 71.899-5.223 8.129-10.665 15.655-16.274 22.375 54.59-8.77 97.157-46.764 117.852-85.85 10.508-19.847 15.628-40.174 12.676-58.193-2.953-18.02-15.626-33.387-36.116-38.649a17.092 17.092 0 0 0-4.636-.521zm-276.166 7.713c2.146 36.533 16.76 83.07 36.537 120.824 10.707 20.442 22.876 38.334 34.761 50.685C220.62 212.72 232 218.858 240 218.858h32c8 0 19.38-6.138 31.266-18.49 11.885-12.351 24.054-30.243 34.761-50.685 19.777-37.755 34.39-84.29 36.537-120.824H137.436zm95.564 208v16h46v-16h-46zm6.445 34c-2.458 25.967-12.796 57.873-24.437 76h81.984c-11.64-18.127-21.979-50.033-24.437-76h-33.11zm-38.445 94v14h110v-14H201zm-32 32v94h174v-94H169zm23 23h128v48H192v-48z"},child:[]}]})(r)}const we=p.div`
  grid-row: 1;
  background-color: var(--color-brand-original-blue-400);
  box-shadow: 0 10px 20px rgba(26, 26, 41, 0.245);
  height: 8rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: fixed;
  width: 100%;
  z-index: 1000;
`,je=p(ie)`
  display: flex;
  align-items: center;
`,Ce=p.img`
  height: 7rem;
  margin-left: 3rem;
`,ke=p.div`
  margin-right: 6rem;
  display: flex;
  flex-direction: column;
  align-items: end;
`,Ie=p.div`
  font-size: 1.5rem;
  font-weight: 500;
  color: var(--color-gray-50);
  text-transform: capitalize;
`,Y=p.div`
  font-size: 1.3rem;
  font-weight: 400;
  color: var(--color-gray-100);
`;function _e({name:r,id:t,joiningDate:e}){return a.jsxs(we,{children:[a.jsx(je,{to:"/",children:a.jsx(Ce,{src:"/img/logo-white.png"})}),a.jsxs(ke,{children:[a.jsx(Ie,{children:r}),a.jsx(Y,{children:e}),a.jsx(Y,{children:t})]})]})}function Ee(r){return J({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3l18 18"},child:[]},{tag:"path",attr:{d:"M11 7h6a2 2 0 0 1 2 2v.5a.5 .5 0 0 0 .5 .5a.5 .5 0 0 1 .5 .5v3a.5 .5 0 0 1 -.5 .5a.5 .5 0 0 0 -.5 .5v.5m-2 2h-11a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2h1"},child:[]}]})(r)}function Oe({series:r,labels:t,totalLabel:e,totalValue:o,hollowSize:s,colors:n}){let i;const c={chart:{height:280,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:s||"44%"},dataLabels:{name:{fontSize:"16px"},value:{fontSize:"14px",formatter:function(d){return console.log(d),e==="Cibil/Risk"?(d/100*900).toFixed(0):d},color:"#fff"},total:{show:!0,label:e||"Total",formatter:function(){return o},color:"#fff",fontSize:"1.2rem",fontWeight:"400",fontFamily:"Poppins"}},track:{show:!0,background:"#e7e7e7",strokeWidth:"97%",opacity:1,margin:5},max:Math.max(...r)}},colors:n||[],labels:t||[]};return e==="Cibil/Risk"?i=r.map(d=>+(d/900*100).toFixed(2)):i=r,a.jsx("div",{children:a.jsx(L,{options:c,series:i,type:"radialBar",height:280})})}function Re({scores:r}){const t=Object.values(r),e=["Cibil","Risk","Karma"];return a.jsx(Oe,{series:t,labels:e,totalLabel:"Cibil/Risk/Karma"})}var v={},g={},Z={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=1,e=function(){return"".concat(t++)};r.default=e})(Z);var E={},O={},P={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,n=null;return function(){for(var i=this,c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];clearTimeout(n),n=setTimeout(function(){o.apply(i,d)},s)}};r.default=t})(P);var m={};Object.defineProperty(m,"__esModule",{value:!0});m.SizeSensorId=m.SensorTabIndex=m.SensorClassName=void 0;var De="size-sensor-id";m.SizeSensorId=De;var Me="size-sensor-object";m.SensorClassName=Me;var Fe="-1";m.SensorTabIndex=Fe;Object.defineProperty(O,"__esModule",{value:!0});O.createSensor=void 0;var Ae=Le(P),D=m;function Le(r){return r&&r.__esModule?r:{default:r}}var Pe=function(t,e){var o=void 0,s=[],n=function(){getComputedStyle(t).position==="static"&&(t.style.position="relative");var l=document.createElement("object");return l.onload=function(){l.contentDocument.defaultView.addEventListener("resize",i),i()},l.style.display="block",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%",l.style.overflow="hidden",l.style.pointerEvents="none",l.style.zIndex="-1",l.style.opacity="0",l.setAttribute("class",D.SensorClassName),l.setAttribute("tabindex",D.SensorTabIndex),l.type="text/html",t.appendChild(l),l.data="about:blank",l},i=(0,Ae.default)(function(){s.forEach(function(f){f(t)})}),c=function(l){o||(o=n()),s.indexOf(l)===-1&&s.push(l)},d=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",i),o.parentNode.removeChild(o),t.removeAttribute(D.SizeSensorId),o=void 0,s=[],e&&e())},u=function(l){var h=s.indexOf(l);h!==-1&&s.splice(h,1),s.length===0&&o&&d()};return{element:t,bind:c,destroy:d,unbind:u}};O.createSensor=Pe;var R={};Object.defineProperty(R,"__esModule",{value:!0});R.createSensor=void 0;var Be=m,We=Ne(P);function Ne(r){return r&&r.__esModule?r:{default:r}}var Te=function(t,e){var o=void 0,s=[],n=(0,We.default)(function(){s.forEach(function(f){f(t)})}),i=function(){var l=new ResizeObserver(n);return l.observe(t),n(),l},c=function(l){o||(o=i()),s.indexOf(l)===-1&&s.push(l)},d=function(){o.disconnect(),s=[],o=void 0,t.removeAttribute(Be.SizeSensorId),e&&e()},u=function(l){var h=s.indexOf(l);h!==-1&&s.splice(h,1),s.length===0&&o&&d()};return{element:t,bind:c,destroy:d,unbind:u}};R.createSensor=Te;Object.defineProperty(E,"__esModule",{value:!0});E.createSensor=void 0;var $e=O,Ge=R,Ke=typeof ResizeObserver<"u"?Ge.createSensor:$e.createSensor;E.createSensor=Ke;Object.defineProperty(g,"__esModule",{value:!0});g.removeSensor=g.getSensor=g.Sensors=void 0;var He=qe(Z),Ve=E,F=m;function qe(r){return r&&r.__esModule?r:{default:r}}var x={};g.Sensors=x;function ee(r){r&&x[r]&&delete x[r]}var Ue=function(t){var e=t.getAttribute(F.SizeSensorId);if(e&&x[e])return x[e];var o=(0,He.default)();t.setAttribute(F.SizeSensorId,o);var s=(0,Ve.createSensor)(t,function(){return ee(o)});return x[o]=s,s};g.getSensor=Ue;var Ye=function(t){var e=t.element.getAttribute(F.SizeSensorId);t.destroy(),ee(e)};g.removeSensor=Ye;Object.defineProperty(v,"__esModule",{value:!0});v.ver=re=v.clear=te=v.bind=void 0;var A=g,Qe=function(t,e){var o=(0,A.getSensor)(t);return o.bind(e),function(){o.unbind(e)}},te=v.bind=Qe,Xe=function(t){var e=(0,A.getSensor)(t);(0,A.removeSensor)(e)},re=v.clear=Xe,Je="1.0.2";v.ver=Je;function Q(r,t){var e={};return t.forEach(function(o){e[o]=r[o]}),e}function M(r){return typeof r=="function"}function Ze(r){return typeof r=="string"}var et=function r(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var o,s,n;if(Array.isArray(t)){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!r(t[s],e[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(n=Object.keys(t),o=n.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[s]))return!1;for(s=o;s--!==0;){var i=n[s];if(!r(t[i],e[i]))return!1}return!0}return t!==t&&e!==e};const y=se(et);var tt=function(r){X(t,r);function t(e){var o=r.call(this,e)||this;return o.echarts=e.echarts,o.ele=null,o.isInitialResize=!0,o}return t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(e){var o=this.props.shouldSetOption;if(!(M(o)&&!o(e,this.props))){if(!y(e.theme,this.props.theme)||!y(e.opts,this.props.opts)||!y(e.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var s=["option","notMerge","lazyUpdate","showLoading","loadingOption"];y(Q(this.props,s),Q(e,s))||this.updateEChartsOption(),(!y(e.style,this.props.style)||!y(e.className,this.props.className))&&this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},t.prototype.dispose=function(){if(this.ele){try{re(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){var e=this,o=this.props,s=o.onEvents,n=o.onChartReady,i=this.updateEChartsOption();this.bindEvents(i,s||{}),M(n)&&n(i),this.ele&&te(this.ele,function(){e.resize()})},t.prototype.bindEvents=function(e,o){function s(i,c){Ze(i)&&M(c)&&e.on(i,function(d){c(d,e)})}for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&s(n,o[n])},t.prototype.updateEChartsOption=function(){var e=this.props,o=e.option,s=e.notMerge,n=s===void 0?!1:s,i=e.lazyUpdate,c=i===void 0?!1:i,d=e.showLoading,u=e.loadingOption,f=u===void 0?null:u,l=this.getEchartsInstance();return l.setOption(o,n,c),d?l.showLoading(f):l.hideLoading(),l},t.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize()}catch(o){console.warn(o)}this.isInitialResize=!1},t.prototype.render=function(){var e=this,o=this.props,s=o.style,n=o.className,i=n===void 0?"":n,c=ae({height:300},s);return le.createElement("div",{ref:function(d){e.ele=d},style:c,className:"echarts-for-react "+i})},t}(_.PureComponent),rt=function(r){X(t,r);function t(e){var o=r.call(this,e)||this;return o.echarts=pe,o}return t}(tt);const ot=rt;function nt({footprints:r}){const t={low:400,medium:600,high:800},e={400:"low",600:"medium",800:"high"},o=Object.values(r).map(c=>t[c]||0),s=["Phone","Digital","Social"],n=Object.values(r),i={series:[{type:"pie",radius:["40%","62%"],data:o.map((c,d)=>({value:c,name:s[d],original:n[d]})),itemStyle:{borderRadius:6,borderWidth:100},label:{show:!1,formatter:"{b}: {c}",textStyle:{color:"#000",fontFamily:"Poppins, sans-serif",fontSize:14}},labelLine:{show:!1}}],tooltip:{trigger:"item",formatter:function(c){const d=e[c.value];return`${c.name}: ${d}`},backgroundColor:"#000000e9",borderColor:"#c7c7c7",borderWidth:1,textStyle:{color:"#fff",fontSize:12,fontFamily:"Poppins, sans-serif",fontWeight:400},padding:[10,18]},graphic:{type:"text",left:"center",top:"center",style:{text:"Footprints",fontSize:13,fontWeight:"400",fontFamily:"Poppins",fill:"#ededed"}}};return a.jsx(ot,{option:i,style:{height:350}})}const it=p.div`
  grid-row: 2;
  height: 26rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 4rem;
  text-transform: capitalize;
  margin-top: 8rem;
`,st=p.div`
  display: flex;
  gap: 1.4rem;
`,at=p.div`
  width: 10.8rem;
  height: 14rem;
  border: 1px solid var(--color-gray-500);
  padding: 1.4rem 1.8rem;
  border-radius: 0.6rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1.4rem;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.318);
  transition: all 0.3s;

  &:hover {
    transform: scale(1.05);
  }

  &:first-child {
    background: linear-gradient(
      45deg,
      var(--color-brand-blue-500),
      var(--color-brand-blue-700)
    );
    border: 1px solid var(--color-gray-10);
  }
`,lt=p.div`
  background-color: aliceblue;
  border-radius: 50%;
  width: 5rem;
  height: 5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: ${r=>r.backgroundcolor};

  svg {
    color: var(--color-gray-0);
  }
`,ct=p.div``,dt=p.div`
  font-size: 1.4rem;
  font-weight: 600;
  color: var(--color-gray-100);
`,ft=p.div`
  text-align: center;
  font-size: 1.3rem;
  font-weight: 500;
  color: var(--color-gray-200);
`,ut=p.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  align-items: center;
`;function pt({nps:r,service:t,runKm:e,avgDpd:o,karma:s,lossDays:n,aon:i,scores:c,footprints:d}){const u=[{name:"karma",icon:ze,value:s,iconBack:"#e7602b"},{name:"Avg. DPD",icon:he,value:o,iconBack:"#e62743"},{name:"service",icon:me,value:t,iconBack:"#00bdbd"},{name:"NPS",icon:ue,value:r,iconBack:"#d57807"},{name:"run kMs",icon:ge,value:e,iconBack:"#00c200"},{name:"loss days",icon:ve,value:n,iconBack:"#0f7fe1"},{name:"AON",icon:Ee,value:i,iconBack:"#009356"}];return a.jsxs(it,{children:[a.jsx(st,{children:u.map((f,l)=>{const h=f.icon;return a.jsxs(at,{backgroundcolor:f.back,children:[a.jsx(lt,{backgroundcolor:f.iconBack,children:a.jsx(h,{size:20})}),a.jsxs(ct,{children:[a.jsx(dt,{children:f.name}),a.jsx(ft,{children:f.value?f.value:"-1"})]})]},l)})}),a.jsxs(ut,{children:[a.jsx(Re,{scores:c}),a.jsx(nt,{footprints:d})]})]})}function oe({series:r,xCategories:t,title:e,yAxisTitle:o,chartColor:s,chartHeight:n,unit:i}){const c=r[0].data.reduce((u,f)=>u+ +f,0)/r[0].data.length,d={chart:{type:"area",height:n,toolbar:{tools:{download:!1,selection:!1,pan:!1,zoomin:!0,zoomout:!0,reset:!1,zoom:!1}},zoom:{enabled:!0,autoScaleYaxis:!1},offsetY:6},stroke:{curve:"smooth",width:2,colors:[s]},dataLabels:{enabled:!1},fill:{type:"solid",opacity:.4},xaxis:{tickAmount:7,categories:t,title:{text:"Months",style:{fontSize:"14px",fontWeight:600,fontFamily:"Poppins",color:"var(--color-gray-50)"}},labels:{style:{fontSize:"12px",fontWeight:500,fontFamily:"Poppins",colors:"var(--color-gray-100)"}},axisBorder:{show:!0,color:"var(--color-gray-300)"},axisTicks:{show:!0,color:"var(--color-gray-300)"}},yaxis:{title:{text:o,style:{fontSize:"13px",fontWeight:500,fontFamily:"Poppins",color:"var(--color-gray-100)"},offsetX:-6},labels:{style:{fontSize:"11px",fontWeight:400,fontFamily:"Poppins",colors:"var(--color-gray-100)"}},axisBorder:{show:!0,color:"#777"},axisTicks:{show:!0,color:"#777"}},tooltip:{theme:"dark",style:{fontSize:"12px",fontWeight:500,fontFamily:"Poppins, sans-serif"},y:{formatter:function(u){return`${u}`}}},grid:{borderColor:"var(--color-brand-blue-200)",strokeDashArray:1,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},annotations:{yaxis:[{y:c,borderColor:"#FF4560",label:{borderColor:"#FF4560",style:{color:"#fff",background:"#FF4560"},text:`Average: ${c.toFixed(2)+i}`}}]},title:{text:e,align:"center",style:{fontSize:"16px",fontWeight:600,fontFamily:"Poppins",color:"var(--color-gray-100)"},offsetY:14},responsive:[{breakpoint:600,options:{chart:{height:300}}}]};return a.jsx(ne,{style:{padding:"1rem 2.4rem 0 1.5rem"},children:a.jsx(L,{options:d,series:r,type:"area",height:n})})}function ht(r){const t=r.emi.split(","),e=[{name:"Days Late / Early",data:t}],o=Array.from({length:24},(n,i)=>i+1);function s(n){return n.reduce((c,d)=>c+d,0)/n.length}return a.jsx(oe,{series:e,xCategories:o,title:"EMI Days Late / Early",yAxisTitle:"Days",chartColor:"#00BAEC",chartHeight:330,unit:s(t)>1||s(t)<-1?"days":"day"})}const mt=()=>{const r=[],t=new Date;for(let e=1;e<=3;e++){const o=(t.getMonth()-e+12)%12,s=new Date(2023,o).toLocaleString("default",{month:"short"});r.unshift(s)}return r};function gt({runKm:r}){const e=[{name:"Distance Ridden (KM)",data:[r.thirdLastRunKm,r.secondLastRunKm,r.lastRunKm]}],o=mt();return a.jsx(oe,{series:e,xCategories:o,title:"Driver Ride Distance Over Last 3 Months",yAxisTitle:"Distance Ridden (KM)",chartColor:"#1E90FF",chartHeight:330,unit:"kms"})}function vt({title:r,xCategories:t,yTitle:e,expenseData:o,earningData:s,expenseColor:n,earningColor:i,dataUnit:c}){const d={chart:{type:"bar",height:350,toolbar:{show:!1},offsetY:6},plotOptions:{bar:{horizontal:!1,columnWidth:"65%",endingShape:"rounded",borderRadius:3}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:t,title:{text:"Last Three Months",style:{fontSize:"14px",fontWeight:600,fontFamily:"Poppins",color:"var(--color-gray-50)"}},labels:{style:{fontSize:"12px",fontWeight:500,fontFamily:"Poppins",colors:"var(--color-gray-100)"}},axisBorder:{show:!0,color:"var(--color-gray-300)"},axisTicks:{show:!0,color:"var(--color-gray-300)"}},yaxis:{title:{text:e,style:{fontSize:"13px",fontWeight:500,fontFamily:"Poppins",color:"var(--color-gray-100)"}},labels:{style:{fontSize:"11px",fontWeight:400,fontFamily:"Poppins",colors:"var(--color-gray-100)"}},axisBorder:{show:!0,color:"#777"},axisTicks:{show:!0,color:"#777"}},fill:{opacity:1},tooltip:{theme:"dark",style:{fontSize:"12px",fontWeight:500,fontFamily:"Poppins, sans-serif"},y:{formatter:function(f){return c==="₹"?`${c+f}`:`${f+c}`}}},legend:{show:!0,position:"top",horizontalAlign:"center",labels:{colors:"var(--color-gray-200)"},fontWeight:500,fontFamily:"Poppins, sans-serif",fontSize:"11px",itemMargin:{horizontal:14,vertical:2}},grid:{borderColor:"var(--color-brand-blue-200)",strokeDashArray:1,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},title:{text:r,align:"center",style:{fontSize:"16px",fontWeight:600,fontFamily:"Poppins",color:"var(--color-gray-100)"},offsetY:14},responsive:[{breakpoint:600,options:{chart:{height:300},legend:{position:"bottom"}}}]},u=[{name:"Expenses",data:o,color:n},{name:"Earnings",data:s,color:i}];return a.jsx(ne,{style:{padding:"1rem 2.4rem 0 1rem"},children:a.jsx(L,{options:d,series:u,type:"bar",height:330})})}const yt=()=>{const r=[],t=new Date;for(let e=1;e<=3;e++){const o=(t.getMonth()-e+12)%12,s=new Date(2023,o).toLocaleString("default",{month:"short"});r.unshift(s)}return r};function xt({earningVsExpense:r}){const{earningInformation:t,expenseInformation:e}=r;return a.jsx(vt,{title:"Expense VS Earning: Last 3 Months",xCategories:yt(),yTitle:"Income",expenseData:[e.thirdLastExpense,e.secondLastExpense,e.lastExpense],earningData:[t.thirdLastEarning,t.secondLastEarning,t.lastEarning],expenseColor:"#f8782e",earningColor:"#8015e4",dataUnit:"₹"})}const ne=p.div`
  box-shadow: 0 10px 20px rgba(3, 3, 152, 0.245);
  border-radius: 0.6rem;
`,bt=p.div`
  grid-row: 3;
  /* background-color: #68e127; */
  height: calc(100vh - 34rem);
  padding: 0 4rem 2.6rem 4rem;
  display: grid;
  grid-template-columns: 1fr 1.15fr 1.15fr;
  gap: 2rem;
`;function St({earningVsExpense:r,runKm:t,emi:e}){return a.jsxs(bt,{children:[a.jsx(xt,{earningVsExpense:r}),a.jsx(gt,{runKm:t}),a.jsx(ht,{emi:e})]})}const zt=["personalInformation","vehicleInformation","contactInformation","footprintsAndRisk","businessInformation","financialInformation","socialMediaInformation"],wt=p.div`
  grid-row: 4;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,jt=p.div`
  display: flex;
  flex-direction: column;
  gap: 2rem;
  margin: 2rem;
  padding: 4rem 2rem;
  box-shadow: 10px 10px 20px rgba(67, 67, 202, 0.445);
  border-radius: 0.6rem;
`,Ct=p.div`
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--color-gray-100);
  text-transform: uppercase;
`,kt=p.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  gap: 2rem;
`;function It({userData:r}){const t="var(--color-gray-100)",e="var(--color-gray-300)",o="1px solid var(--color-gray-600)";if(r===null)return;const{personalInformation:s,vehicleInformation:n,contactInformation:i,footprintsAndRisk:c,businessInformation:d,financialInformation:u,socialMediaInformation:f}=r,l={personalInformation:s,vehicleInformation:n,contactInformation:i,footprintsAndRisk:c,businessInformation:d,financialInformation:u,socialMediaInformation:f};return console.log(l),console.log(r),a.jsx(wt,{children:zt.map((h,k)=>{const I=l[h];return a.jsxs(jt,{children:[a.jsx(Ct,{children:xe(h)}),a.jsx(kt,{children:ye(I,t,e,o)})]},k)})})}const _t=p.div`
  display: grid;
  background: linear-gradient(
    to right,
    var(--color-brand-original-blue-400),
    var(--color-brand-blue-300)
  );
`;function Et(){var u,f,l,h,k,I,B,W,N,T,$,G,K,H;const r=Se(),{id:t}=ce(),{fetchOnboardedDriversData:e,loading:o,error:s,driverData:n}=be("getDriverData");_.useEffect(function(){e({variables:{input:t}})},[]),_.useEffect(function(){var b,S,z,w,j,C;(S=(b=n==null?void 0:n.driver)==null?void 0:b.error)!=null&&S.message&&(de.error(`${((w=(z=n==null?void 0:n.driver)==null?void 0:z.error)==null?void 0:w.status)||401}: ${((C=(j=n==null?void 0:n.driver)==null?void 0:j.error)==null?void 0:C.message)||"Bad Request"}`),r())},[(f=(u=n==null?void 0:n.driver)==null?void 0:u.error)==null?void 0:f.message]),_.useEffect(function(){var b,S,z,w,j,C,V,q,U;((S=(b=n==null?void 0:n.driver)==null?void 0:b.settingGoogleSheetDataInfo)==null?void 0:S.dataSet)===!1&&toastWarning((j=(w=(z=n==null?void 0:n.driver)==null?void 0:z.settingGoogleSheetDataInfo)==null?void 0:w.error)==null?void 0:j.message),(V=(C=n==null?void 0:n.driver)==null?void 0:C.gettingGoogleSheetDataInfo)!=null&&V.status&&toastWarning((U=(q=n==null?void 0:n.driver)==null?void 0:q.gettingGoogleSheetDataInfo)==null?void 0:U.message)},[(h=(l=n==null?void 0:n.driver)==null?void 0:l.settingGoogleSheetDataInfo)==null?void 0:h.dataSet,(I=(k=n==null?void 0:n.driver)==null?void 0:k.gettingGoogleSheetDataInfo)==null?void 0:I.status]),console.log(n);const i=(B=n==null?void 0:n.driver)==null?void 0:B.data,c=[(W=i==null?void 0:i.financialInformation)==null?void 0:W.creditScore,(N=i==null?void 0:i.footprintsAndRisk)==null?void 0:N.riskScore,(T=i==null?void 0:i.cardData)==null?void 0:T.karmaScore],d=[($=i==null?void 0:i.footprintsAndRisk)==null?void 0:$.phoneFootPrint,(G=i==null?void 0:i.footprintsAndRisk)==null?void 0:G.digitalFootPrint,(K=i==null?void 0:i.footprintsAndRisk)==null?void 0:K.socialFootPrint];return a.jsx(a.Fragment,{children:(H=n==null?void 0:n.driver)!=null&&H.data?a.jsxs(_t,{children:[a.jsx(_e,{name:i.personalInformation.firstName+" "+i.personalInformation.lastName,id:t,joiningDate:i.onboardedDate}),a.jsx(pt,{karma:i.cardData.karmaScore,nps:i.cardData.nps,service:i.cardData.service,runKm:i.cardData.runKm,avgDpd:i.cardData.avgDpd,lossDays:i.cardData.lossDays,aon:i.cardData.aon,scores:c,footprints:d}),a.jsx(St,{earningVsExpense:i.earningVsExpense,runKm:i.runKmInformation,emi:i.emi}),a.jsx(It,{userData:i})]}):a.jsx(fe,{})})}function Kt(){return a.jsx(Et,{})}export{Kt as default};
